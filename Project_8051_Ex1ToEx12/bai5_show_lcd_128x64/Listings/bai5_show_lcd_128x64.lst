C51 COMPILER V9.52.0.0   BAI5_SHOW_LCD_128X64                                              03/02/2023 00:01:18 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE BAI5_SHOW_LCD_128X64
OBJECT MODULE PLACED IN .\Objects\bai5_show_lcd_128x64.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE bai5_show_lcd_128x64.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT
                    -(.\Listings\bai5_show_lcd_128x64.lst) TABS(2) OBJECT(.\Objects\bai5_show_lcd_128x64.obj)

line level    source

   1          /*
   2          DO AN TOT NGHIEP: KIT 8051 V3.
   3          NAME: SHOW DATA on lcd128x64 in chip 8051.
   4          TIME: 3/2023  - ICTU.
   5          */
   6          /*---------------------------INCLUDE AND DEFINE-----------------------------------*/
   7          #include <REGX51.H>
   8          #include <stdio.h>  //su dung sprintf()
   9          
  10          #define DATA P0
  11          
  12          sbit CS1 = P2^5;
  13          sbit CS2 = P2^6;
  14          sbit RS = P2^2;
  15          sbit RW = P2^3;
  16          sbit EN = P2^4;
  17          
  18          int i,j;
  19          
  20          /*------------------------------IMAGE HEX CODE--------------------------------*/
  21          code unsigned char Logo_ICTU_am_ban [] = {
  22          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0,
  23          0xF0, 0xF0, 0xF8, 0xF8, 0xFC, 0xFC, 0xFC, 0xFE, 0xFE, 0xFE, 0x7E, 0x7F, 0x7F, 0x7F, 0x7F, 0xFF,
  24          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFE, 0xFE, 0xFC, 0xFC, 0xFC, 0xF8, 0xF8, 0xF0, 0xF0,
  25          0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  26          0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xE0, 0xE0, 0xE2, 0xF3, 0xF1, 0xF1, 0x79, 0x79, 0x79,
  27          0x3C, 0x3C, 0x3C, 0x1C, 0x1C, 0x9E, 0x9E, 0x9E, 0xCE, 0xCE, 0xCE, 0xCF, 0xCF, 0xEF, 0xEF, 0xEF,
  28          0xEF, 0xE7, 0xE7, 0xF7, 0xF7, 0xF7, 0xF7, 0xF7, 0xF7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  29          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xF0, 0xE0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00,
  30          0x00, 0x00, 0x00, 0x04, 0x87, 0x83, 0xC3, 0xC1, 0xE1, 0xF1, 0xF0, 0xF8, 0xF8, 0x7C, 0x7C, 0x3C,
  31          0x3E, 0x1E, 0x1F, 0x1F, 0x8F, 0x8F, 0xCF, 0xC7, 0xC7, 0xE7, 0xE3, 0xF3, 0xF3, 0xF3, 0xF9, 0xF9,
  32          0xF9, 0xF9, 0xFD, 0xFD, 0xFD, 0xFC, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFF, 0xFF,
  33          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF0, 0x80, 0x00,
  34          0xF8, 0x7E, 0x3E, 0x1F, 0x1F, 0x0F, 0x07, 0x07, 0x83, 0xC1, 0xE1, 0xE0, 0xF0, 0xF8, 0xF8, 0xFC,
  35          0xFE, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0x7F, 0xFF, 0x0F, 0x1F, 0x1F, 0x1F, 0x1F, 0x3F, 0x3F,
  36          0x7F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x1F, 0x0F, 0x0F, 0x07, 0x07,
  37          0x07, 0x03, 0xC3, 0xF3, 0xF3, 0xFB, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8,
  38          0x00, 0xE0, 0xF0, 0xF8, 0xFC, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  39          0xFF, 0xFF, 0x03, 0x01, 0x03, 0xFF, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  40          0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  41          0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F,
  42          0x00, 0x01, 0x0F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  43          0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xC0, 0xC0, 0xDF, 0xD0, 0x90, 0x90, 0xB0, 0xA0, 0x60, 0x40,
  44          0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  45          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0x0F, 0x01, 0x00,
  46          0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x07, 0x0F, 0x3F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  47          0xFF, 0xFF, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xF4, 0xF4, 0xF5, 0xF5, 0xE5, 0xE9,
  48          0xEA, 0xEA, 0xE5, 0xEA, 0xEC, 0xC0, 0xFF, 0xC0, 0xC0, 0xC0, 0xC0, 0xE0, 0xE0, 0xF0, 0xF8, 0xFE,
  49          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x0F, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
  50          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x07,
  51          0x0F, 0x0F, 0x1F, 0x1F, 0x3F, 0x3F, 0x3F, 0x7F, 0x7F, 0x7F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  52          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x7F, 0x7F, 0x7F, 0x3F, 0x3F, 0x3F, 0x1F, 0x1F, 0x0F, 0x0F,
  53          0x07, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
  54          };
C51 COMPILER V9.52.0.0   BAI5_SHOW_LCD_128X64                                              03/02/2023 00:01:18 PAGE 2   

  55          
  56          /*------------------------------FUNCTION --------------------------------*/
  57          //ham delay
  58          void delay(int t){
  59   1        while(t--);
  60   1      }
  61          
  62          //ham gui lenh cho glcd
  63          void GLCD_Comd(unsigned char cmnd){
  64   1        DATA = cmnd;
  65   1        RS = 0;
  66   1        RW = 0;
  67   1        EN = 1;
  68   1        delay(10);
  69   1        EN = 0;
  70   1      }
  71          
  72          //ham chon page cua glcd.
  73          void select_page(unsigned char page){
  74   1        if(page){
  75   2          CS1 = 0;
  76   2          CS2 = 1;
  77   2        }else{
  78   2          CS1 = 1;
  79   2          CS2 = 0;
  80   2        }
  81   1      }
  82          
  83          //ham gui du lieu
  84          void GLCD_Data(unsigned char dt){
  85   1        DATA = dt;
  86   1        RS = 1;
  87   1        RW = 0;
  88   1        EN = 1;
  89   1        delay(10);
  90   1        EN = 0;
  91   1      }
  92          
  93          //ham khoi tao glcd
  94          void GLCD_Init(){
  95   1        unsigned char Comd[5] = {0xc0, 0xb8,0x40, 0x3f};
  96   1        select_page(1);
  97   1        for(i = 0; i < 4; i++){
  98   2          GLCD_Comd(Comd[i]);
  99   2        }
 100   1        select_page(0);
 101   1        for(i = 0; i < 4; i++){
 102   2          GLCD_Comd(Comd[i]);
 103   2        }
 104   1      }
 105          
 106          //hien thi hinh anh cho trang 0 va 1
 107          void GLCD_PutPicture(const unsigned char *ip){
 108   1        int Page = 0, i = 1;
 109   1        int Column = 0;
 110   1        for(Page = 0; Page < 8; Page++){
 111   2          select_page(0);
 112   2          GLCD_Comd(0xb8 |Page);
 113   2          GLCD_Comd(0x40);
 114   2          for(Column = 0; Column < 128; Column++){
 115   3            if(Column ==64){
 116   4              select_page(1);
C51 COMPILER V9.52.0.0   BAI5_SHOW_LCD_128X64                                              03/02/2023 00:01:18 PAGE 3   

 117   4              GLCD_Comd(0xb8|Page);
 118   4              GLCD_Comd(0x40);
 119   4            }
 120   3            GLCD_Data(*ip++);
 121   3          }
 122   2        }
 123   1      }
 124          
 125          /*-------------------------------MAIN FUNCTION-------------------------------*/
 126          //chuong trinh chinh
 127          void main(voidi){
 128   1        GLCD_Init();
 129   1        delay(2);
 130   1        GLCD_PutPicture(Logo_ICTU_am_ban);
 131   1        while(1){
 132   2          
 133   2        }
 134   1      }
 135          /*------------------------------END FILE--------------------------------*/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    295    ----
   CONSTANT SIZE    =    517    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      16
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
