C51 COMPILER V9.52.0.0   BAI5_GLCD_128X64                                                  02/23/2023 13:48:24 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE BAI5_GLCD_128X64
OBJECT MODULE PLACED IN .\Objects\bai5_glcd_128x64.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE bai5_glcd_128x64.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\L
                    -istings\bai5_glcd_128x64.lst) TABS(2) OBJECT(.\Objects\bai5_glcd_128x64.obj)

line level    source

   1          
   2          /*
   3          ******************************************************
   4          *time: 2023 
   5          *embedded 8051 by langauge c.
   6          *ex2: control display lcd 126x64
   7          *******************************************************
   8          */
   9          #include <REGX51.H>
  10          #include <stdio.h>
  11          
  12          #define DATA P0
  13          
  14          sbit CS1 = P2^5;
  15          sbit CS2 = P2^6;
  16          sbit RS = P2^2;
  17          sbit RW = P2^3;
  18          sbit EN = P2^4;
  19          
  20          int i,j;
  21          
  22          code unsigned char Logo_ICTU_am_ban [] = {
  23          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0,
  24          0xF0, 0xF0, 0xF8, 0xF8, 0xFC, 0xFC, 0xFC, 0xFE, 0xFE, 0xFE, 0x7E, 0x7F, 0x7F, 0x7F, 0x7F, 0xFF,
  25          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFE, 0xFE, 0xFE, 0xFC, 0xFC, 0xFC, 0xF8, 0xF8, 0xF0, 0xF0,
  26          0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  27          0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xE0, 0xE0, 0xE2, 0xF3, 0xF1, 0xF1, 0x79, 0x79, 0x79,
  28          0x3C, 0x3C, 0x3C, 0x1C, 0x1C, 0x9E, 0x9E, 0x9E, 0xCE, 0xCE, 0xCE, 0xCF, 0xCF, 0xEF, 0xEF, 0xEF,
  29          0xEF, 0xE7, 0xE7, 0xF7, 0xF7, 0xF7, 0xF7, 0xF7, 0xF7, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  30          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFC, 0xF0, 0xE0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00,
  31          0x00, 0x00, 0x00, 0x04, 0x87, 0x83, 0xC3, 0xC1, 0xE1, 0xF1, 0xF0, 0xF8, 0xF8, 0x7C, 0x7C, 0x3C,
  32          0x3E, 0x1E, 0x1F, 0x1F, 0x8F, 0x8F, 0xCF, 0xC7, 0xC7, 0xE7, 0xE3, 0xF3, 0xF3, 0xF3, 0xF9, 0xF9,
  33          0xF9, 0xF9, 0xFD, 0xFD, 0xFD, 0xFC, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFF, 0xFF,
  34          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 0xF0, 0x80, 0x00,
  35          0xF8, 0x7E, 0x3E, 0x1F, 0x1F, 0x0F, 0x07, 0x07, 0x83, 0xC1, 0xE1, 0xE0, 0xF0, 0xF8, 0xF8, 0xFC,
  36          0xFE, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0x7F, 0xFF, 0x0F, 0x1F, 0x1F, 0x1F, 0x1F, 0x3F, 0x3F,
  37          0x7F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x1F, 0x0F, 0x0F, 0x07, 0x07,
  38          0x07, 0x03, 0xC3, 0xF3, 0xF3, 0xFB, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xF8,
  39          0x00, 0xE0, 0xF0, 0xF8, 0xFC, 0xFE, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  40          0xFF, 0xFF, 0x03, 0x01, 0x03, 0xFF, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  41          0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0xFF, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  42          0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F,
  43          0x00, 0x01, 0x0F, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  44          0xFF, 0xFF, 0x00, 0x00, 0x00, 0xFF, 0xC0, 0xC0, 0xDF, 0xD0, 0x90, 0x90, 0xB0, 0xA0, 0x60, 0x40,
  45          0xC0, 0x80, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  46          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x3F, 0x0F, 0x01, 0x00,
  47          0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x07, 0x0F, 0x3F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  48          0xFF, 0xFF, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xE6, 0xF4, 0xF4, 0xF5, 0xF5, 0xE5, 0xE9,
  49          0xEA, 0xEA, 0xE5, 0xEA, 0xEC, 0xC0, 0xFF, 0xC0, 0xC0, 0xC0, 0xC0, 0xE0, 0xE0, 0xF0, 0xF8, 0xFE,
  50          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x3F, 0x0F, 0x07, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
  51          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x07, 0x07,
  52          0x0F, 0x0F, 0x1F, 0x1F, 0x3F, 0x3F, 0x3F, 0x7F, 0x7F, 0x7F, 0x7F, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
  53          0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x7F, 0x7F, 0x7F, 0x7F, 0x3F, 0x3F, 0x3F, 0x1F, 0x1F, 0x0F, 0x0F,
  54          0x07, 0x07, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
C51 COMPILER V9.52.0.0   BAI5_GLCD_128X64                                                  02/23/2023 13:48:24 PAGE 2   

  55          };
  56          
  57          
  58          //ham delay
  59          void delay(int t){
  60   1        while(t--);
  61   1      }
  62          
  63          //ham gui lenh cho glcd
  64          void GLCD_Comd(unsigned char cmnd){
  65   1        DATA = cmnd;
  66   1        RS = 0;
  67   1        RW = 0;
  68   1        EN = 1;
  69   1        delay(10);
  70   1        EN = 0;
  71   1      }
  72          
  73          //ham chon page cua glcd.
  74          void select_page(unsigned char page){
  75   1        if(page){
  76   2          CS1 = 0;
  77   2          CS2 = 1;
  78   2        }else{
  79   2          CS1 = 1;
  80   2          CS2 = 0;
  81   2        }
  82   1      }
  83          
  84          //ham gui du lieu
  85          void GLCD_Data(unsigned char dt){
  86   1        DATA = dt;
  87   1        RS = 1;
  88   1        RW = 0;
  89   1        EN = 1;
  90   1        delay(10);
  91   1        EN = 0;
  92   1      }
  93          
  94          //ham khoi tao glcd
  95          void GLCD_Init(){
  96   1        unsigned char Comd[5] = {0xc0, 0xb8,0x40, 0x3f};
  97   1        select_page(1);
  98   1        for(i = 0; i < 4; i++){
  99   2          GLCD_Comd(Comd[i]);
 100   2        }
 101   1        select_page(0);
 102   1        for(i = 0; i < 4; i++){
 103   2          GLCD_Comd(Comd[i]);
 104   2        }
 105   1      }
 106          
 107          //hien thi hinh anh cho trang 0 va 1
 108          void GLCD_PutPicture(const unsigned char *ip){
 109   1        int Page = 0, i = 1;
 110   1        int Column = 0;
 111   1        for(Page = 0; Page < 8; Page++){
 112   2          select_page(0);
 113   2          GLCD_Comd(0xb8 |Page);
 114   2          GLCD_Comd(0x40);
 115   2          for(Column = 0; Column < 128; Column++){
 116   3            if(Column ==64){
C51 COMPILER V9.52.0.0   BAI5_GLCD_128X64                                                  02/23/2023 13:48:24 PAGE 3   

 117   4              select_page(1);
 118   4              GLCD_Comd(0xb8|Page);
 119   4              GLCD_Comd(0x40);
 120   4            }
 121   3            GLCD_Data(*ip++);
 122   3          }
 123   2        }
 124   1      }
 125          
 126          //chuong trinh chinh
 127          void main(voidi){
 128   1        GLCD_Init();
 129   1        delay(2);
 130   1        GLCD_PutPicture(Logo_ICTU_am_ban);
 131   1        while(1){
 132   2          
 133   2        }
 134   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    295    ----
   CONSTANT SIZE    =    517    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      16
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
